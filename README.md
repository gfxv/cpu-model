# Архитектура компьютера - 2024

- Рудкевич Илья Александрович, P3206
- `asm | acc | neum | hw | instr | struct | stream | mem | pstr | prob1`
- Упрощённый вариант

## Язык программирования

### Форма Бэкуса-Наура

```ebnf
<program> ::= lines

<lines> ::= line | line new_line program

<line> ::= statement | label | comment

<label> ::= <any string except: ";">":" | start_label

<start_label> ::= "_start:" new_line

<comment> ::= ";" string

<statement> ::= opcode | opcode arg | opcode comment | opcode arg comment

<opcode> ::= org
           | word
           | int
           | ld
           | st
           | add
           | sub
           | inc
           | dec
           | cmp
           | jmp
           | jz
           | hlt

<arg> ::= integer
        | "#"integer
        | "$"integer
        | label
        | "&"label
        | "$"label
        | string

<string> ::= "char" | "<char><string>"
<integer> ::= digit | <digit><integer>
<digit> ::= 0 | 1 | 2 | ... | 8 | 9
```

### Операции
- `org` - разместить код начиная с определенного адреса
- `word` - разместить строку в памяти (один символ - одна ячейка)
- `int` - разместить число в памяти
- `ld` - загрузить значение по адресу в аккумулятор
- `st` - записать значение из аккумулятора по адресу
- `add` - суммировать значение аргумента и аккумулятора (_acc + arg_)
- `sub` - вычесть значение аргумента из аккумулятора (_acc - arg_)
- `mod` - вычислить остаток от деления аккумулятора на значение аргумента (_acc % arg_)
- `int` - увеличить значение аккумулятора на единицу
- `dec` - уменьшить значение аккумулятора на единицу
- `cmp` - сравнить значение аккумулятора с значением аргумента
- `jmp` - выполнить безусловный переход по адресу
- `jz` - выполнить переходе, если Z == 1
- `hlt` - остановить выполнение

### Адресация
- `69` - указывает на значение ячейки по адресу `69`
- `#69` - прямая загрузка операнда
- `label` - указывает на значение ячейки по адресу метки `label`
- `&label` - указывает на адрес метки `label`
- `$69` - указывает на значение ячейки, которая находится по адресу, находящемуся по адресу `69`

## Организация памяти

## Система команд

## Транслятор

## Модель процессора

## Тестирование


```
| ФИО                         | алг   | LoC | code инстр. | инстр. | такт  | вариант                                                              |
| Рудкевич Илья Александрович | hello | 25  | 19          | 135    | 770   | asm | acc | neum | hw | instr | struct | stream | mem | pstr | prob1 |
| Рудкевич Илья Александрович | cat   | 16  | 12          | 66     | 359   | asm | acc | neum | hw | instr | struct | stream | mem | pstr | prob1 |
| Рудкевич Илья Александрович | prob1 | 31  | 23          | 12860  | 65767 | asm | acc | neum | hw | instr | struct | stream | mem | pstr | prob1 |
```
